import{categoryMap as B}from"@temp/blog/category";import{useRouteLocale as h,usePageFrontmatter as g}from"@vuepress/client";import{ref as y,computed as E}from"vue";import{useRouter as v,useRoute as M}from"vue-router";import{resolveRouteWithRedirect as R}from"vuepress-shared/client";import{typeMap as T}from"@temp/blog/type";const l=y(B),k=(e="")=>{const s=v(),c=M(),u=h();return E(()=>{var r;const p=e||((r=g().value.blog)==null?void 0:r.key)||"";if(!p)return console.warn("useBlogCategory: key not found"),{path:"/",map:{}};const i=s.getRoutes();if(!l.value[p])throw new Error(`useBlogCategory: key ${p} is invalid`);const n=l.value[p][u.value],o={path:n.path,map:{}};for(const a in n.map){const t=n.map[a];o.map[a]={path:t.path,items:[]};for(const d of t.keys){const f=i.find(({name:m})=>m===d);if(f){const m=R(s,f.path);o.map[a].items.push({path:m.path,info:BLOG_META_SCOPE===""?m.meta:m.meta[BLOG_META_SCOPE]})}}c.path===t.path&&(o.currentItems=o.map[a].items)}return o})};__VUEPRESS_DEV__&&(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogCategory=e=>{l.value=e});const _=y(T),C=(e="")=>{const s=v(),c=h();return E(()=>{var u;const r=e||((u=g().value.blog)==null?void 0:u.key)||"";if(!r)return console.warn("useBlogType: key not found"),{path:"/",items:[]};if(!_.value[r])throw new Error(`useBlogType: key ${e} is invalid`);const p=s.getRoutes(),i=_.value[r][c.value],n={path:i.path,items:[]};for(const o of i.keys){const a=p.find(({name:t})=>t===o);if(a){const t=R(s,a.path);n.items.push({path:t.path,info:BLOG_META_SCOPE===""?t.meta:t.meta[BLOG_META_SCOPE]})}}return n})};__VUEPRESS_DEV__&&(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogType=e=>{_.value=e});export{l as blogCategoryMap,_ as blogTypeMap,k as useBlogCategory,C as useBlogType};
//# sourceMappingURL=index.js.map
