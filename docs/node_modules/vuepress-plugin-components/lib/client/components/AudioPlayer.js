import{defineComponent as s,ref as u,computed as n,onMounted as p,onBeforeMount as d,h as t}from"vue";import{withBase as c}from"@vuepress/client";import{isLinkHttp as m}from"@vuepress/shared";import"vuepress-shared/client";import"plyr/dist/plyr.css";import"../styles/audio-player.scss";const a=o=>m(o)?o:c(o);var f=s({name:"AudioPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:""},poster:{type:String,default:""},loop:Boolean},setup(o){let r=null;const i=u(),l=n(()=>({hideYouTubeDOMError:!0,...o.options}));return p(()=>{import("plyr").then(({default:e})=>{i.value&&(r=new e(i.value,l.value))})}),d(()=>{try{r==null||r.destroy()}catch(e){l.value.hideYouTubeDOMError&&e.message==="The YouTube player is not attached to the DOM."||console.error(e)}}),()=>o.src?[t("div",{class:"audio-wrapper"},[t("a",{class:"audio-print",href:a(o.src)},o.title||"An audio"),o.poster?t("img",{class:"audio-poster",src:a(o.poster)}):null,t("div",{class:"audio-info"},[o.title?t("div",{class:"audio-title"},o.title):null,t("audio",{ref:i,crossorigin:"anonymous",preload:"metadata",controls:"",...o.loop?{loop:""}:{}},t("source",{src:a(o.src),type:o.type}))])])]:null}});export{f as default};
//# sourceMappingURL=AudioPlayer.js.map
