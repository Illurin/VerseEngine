import{defineComponent as p,ref as s,computed as n,onMounted as u,onBeforeMount as d,h as r}from"vue";import{withBase as c}from"@vuepress/client";import{isLinkHttp as y}from"@vuepress/shared";import"vuepress-shared/client";import"plyr/dist/plyr.css";import"../styles/video-player.scss";const o=t=>y(t)?t:c(t);var m=p({name:"VideoPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:"A video"},type:{type:String,default:""},tracks:{type:Array,default:()=>[]},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let a=null;const i=s(),l=n(()=>({hideYouTubeDOMError:!0,...t.options}));return u(()=>{import("plyr").then(({default:e})=>{i.value&&(a=new e(i.value,l.value))})}),d(()=>{try{a==null||a.destroy()}catch(e){l.value.hideYouTubeDOMError&&e.message==="The YouTube player is not attached to the DOM."||console.error(e)}}),()=>t.src?r("div",{class:"video-wrapper",style:{width:t.width}},[r("a",{class:"sr-only",href:o(t.src)},t.title),r("video",{ref:i,title:t.title,crossorigin:"anonymous",poster:o(t.poster),preload:"metadata",controls:"",...t.loop?{loop:""}:{}},[...t.tracks.map(e=>r("track",{...e,src:o(e.src)})),r("source",{src:o(t.src),type:t.type})])]):null}});export{m as default};
//# sourceMappingURL=VideoPlayer.js.map
