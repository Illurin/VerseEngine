import{useStorage as y}from"@vueuse/core";import{defineComponent as I,ref as c,onMounted as g,watch as h,h as v}from"vue";import"../styles/tabs.scss";const d=y("VUEPRESS_TAB_STORE",{});var S=I({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},setup(e,{slots:o}){const l=c(e.active),r=c([]),s=()=>{if(e.tabId){const{title:a,value:t=a}=e.data[l.value];d.value[e.tabId]=t}},b=(a=l.value)=>{l.value=a<r.value.length-1?a+1:0,r.value[l.value].focus()},f=(a=l.value)=>{l.value=a>0?a-1:r.value.length-1,r.value[l.value].focus()},p=(a,t)=>{a.key===" "||a.key==="Enter"?(a.preventDefault(),l.value=t):a.key==="ArrowRight"?(a.preventDefault(),b()):a.key==="ArrowLeft"&&(a.preventDefault(),f()),s()},m=()=>{if(e.tabId){const a=e.data.findIndex(({title:t,value:u=t})=>d.value[e.tabId]===u);if(a!==-1)return a}return e.active};return g(()=>{l.value=m(),h(()=>d.value[e.tabId],(a,t)=>{if(e.tabId&&a!==t){const u=e.data.findIndex(({title:i,value:n=i})=>n===a);u!==-1&&(l.value=u)}})}),()=>e.data.length?v("div",{class:"tab-list"},[v("div",{class:"tab-list-nav",role:"tablist"},e.data.map(({title:a},t)=>{const u=t===l.value;return v("button",{ref:i=>{i&&(r.value[t]=i)},class:["tab-list-nav-item",{active:u}],role:"tab","aria-controls":`tab-${e.id}-${t}`,"aria-selected":u,onClick:()=>{l.value=t,s()},onKeydown:i=>p(i,t)},a)})),e.data.map(({title:a,value:t=a},u)=>{var i;const n=u===l.value;return v("div",{class:["tab-item",{active:n}],id:`tab-${e.id}-${u}`,role:"tabpanel","aria-expanded":n},(i=o[`tab${u}`])==null?void 0:i.call(o,{title:a,value:t,isActive:n}))})]):null}});export{S as default};
//# sourceMappingURL=Tabs.js.map
