import { getDate, timeTransformer } from "vuepress-shared/node";
export const injectBasicInfo = (page, info) => {
    const frontmatter = page.frontmatter;
    const { createdTime } = page.data.git || {};
    // resolve author
    if ("author" in frontmatter)
        info["a" /* ArticleInfoType.author */] = frontmatter.author;
    // resolve date
    if ("date" in frontmatter) {
        const date = getDate(page.frontmatter.date)?.value;
        if (date) {
            info["d" /* ArticleInfoType.date */] = frontmatter.date;
            info["l" /* ArticleInfoType.localizedDate */] = timeTransformer(date, {
                lang: page.lang,
                type: "date",
            });
        }
    }
    else if (createdTime)
        info["d" /* ArticleInfoType.date */] = new Date(createdTime);
    // resolve category
    if ("category" in frontmatter)
        info["c" /* ArticleInfoType.category */] = frontmatter.category;
    // resolve tag
    if ("tag" in frontmatter)
        info["g" /* ArticleInfoType.tag */] = frontmatter.tag;
    // resolve sticky
    if ("sticky" in frontmatter)
        info["u" /* ArticleInfoType.sticky */] = frontmatter.sticky;
    // resolve image
    if ("cover" in frontmatter)
        info["v" /* ArticleInfoType.cover */] = frontmatter.cover;
    // resolve isOriginal
    if ("isOriginal" in frontmatter)
        info["o" /* ArticleInfoType.isOriginal */] = frontmatter.isOriginal;
    // save page excerpt to routeMeta
    if (frontmatter.excerpt)
        info["e" /* ArticleInfoType.excerpt */] = frontmatter.excerpt;
    else if (page.data.excerpt)
        info["e" /* ArticleInfoType.excerpt */] = page.data.excerpt;
    else if (frontmatter.description)
        info["e" /* ArticleInfoType.excerpt */] = frontmatter.description;
};
//# sourceMappingURL=info.js.map