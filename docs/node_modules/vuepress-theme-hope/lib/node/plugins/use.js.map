{"version":3,"file":"use.js","sourceRoot":"","sources":["../../../src/node/plugins/use.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,+BAA+B,CAAC;AACrE,OAAO,EAAE,oBAAoB,EAAE,MAAM,8BAA8B,CAAC;AAEpE,OAAO,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACxC,OAAO,EAAE,oBAAoB,EAAE,MAAM,oBAAoB,CAAC;AAC1D,OAAO,EAAE,eAAe,EAAE,MAAM,aAAa,CAAC;AAK9C,MAAM,CAAC,MAAM,SAAS,GAAG,CACvB,GAAQ,EACR,OAAuB,EACvB,MAAe,EACf,SAAkB,EACZ,EAAE;IACR,sBAAsB;IACtB,IAAI,KAAK,IAAI,OAAO;QAClB,YAAY,CACV,GAAG,EACH,KAAK,IAAI,OAAO;YACd,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,IAAI;gBACpB,CAAC,CAAC;oBACE,WAAW,EAAE,IAAI;oBACjB,YAAY,EAAE,IAAI;oBAClB,WAAW,EAAE,IAAI;iBAClB;gBACH,CAAC,CAAC,OAAO,CAAC,GAAG;YACf,CAAC,CAAC,EAAE,CACP,CAAC;IACJ,kDAAkD;SAC7C,IAAI,SAAS,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO;QACnC,YAAY,CAAC,GAAG,EAAE;YAChB,WAAW,EAAE,IAAI;YACjB,YAAY,EAAE,IAAI;YAClB,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IAEL,IAAI,OAAO,CAAC,WAAW,KAAK,KAAK;QAC/B,oBAAoB,CAClB,GAAG,EACH,OAAO,OAAO,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CACnE,CAAC;IAEJ,oBAAoB,CAAC,GAAG,EAAE;QACxB,EAAE,EAAE,MAAM;QACV,MAAM,EAAE,8BAA8B;QACtC,aAAa,EAAE,GAAG,eAAe,aAAa;QAC9C,cAAc,EAAE,GAAG,eAAe,cAAc;QAChD,SAAS,EAAE,GAAG,eAAe,gBAAgB;QAC7C,OAAO,EAAE,+BAA+B;QACxC,KAAK,EAAE,6BAA6B;KACrC,CAAC,CAAC;IAEH,oBAAoB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AACpC,CAAC,CAAC","sourcesContent":["import { useReadingTimePlugin } from \"vuepress-plugin-reading-time2\";\nimport { useSassPalettePlugin } from \"vuepress-plugin-sass-palette\";\n\nimport { useGitPlugin } from \"./git.js\";\nimport { useExtendsPagePlugin } from \"./pageConverter.js\";\nimport { TEMPLATE_FOLDER } from \"../utils.js\";\n\nimport type { App } from \"@vuepress/core\";\nimport type { PluginsOptions } from \"../../shared/index.js\";\n\nexport const usePlugin = (\n  app: App,\n  plugins: PluginsOptions,\n  legacy: boolean,\n  hotReload: boolean\n): void => {\n  // respect git options\n  if (\"git\" in plugins)\n    useGitPlugin(\n      app,\n      \"git\" in plugins\n        ? plugins.git === true\n          ? {\n              createdTime: true,\n              contributors: true,\n              updatedTime: true,\n            }\n          : plugins.git\n        : {}\n    );\n  // only use git plugin in production or debug mode\n  else if (hotReload || app.env.isBuild)\n    useGitPlugin(app, {\n      createdTime: true,\n      contributors: true,\n      updatedTime: true,\n    });\n\n  if (plugins.readingTime !== false)\n    useReadingTimePlugin(\n      app,\n      typeof plugins.readingTime === \"object\" ? plugins.readingTime : {}\n    );\n\n  useSassPalettePlugin(app, {\n    id: \"hope\",\n    config: \".vuepress/styles/config.scss\",\n    defaultConfig: `${TEMPLATE_FOLDER}config.scss`,\n    defaultPalette: `${TEMPLATE_FOLDER}palette.scss`,\n    generator: `${TEMPLATE_FOLDER}generator.scss`,\n    palette: \".vuepress/styles/palette.scss\",\n    style: \".vuepress/styles/index.scss\",\n  });\n\n  useExtendsPagePlugin(app, legacy);\n};\n"]}